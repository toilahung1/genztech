<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ads Finder ‚Äì GenzTech</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:#080c1e;color:#fff;display:flex;min-height:100vh;font-size:14px}
.sidebar{width:260px;flex-shrink:0;background:rgba(10,14,39,.95);backdrop-filter:blur(20px);border-right:1px solid rgba(255,255,255,.06);display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;z-index:40}
.sidebar-logo{padding:20px 20px 16px;border-bottom:1px solid rgba(255,255,255,.06);display:flex;align-items:center;gap:10px;text-decoration:none}
.sidebar-logo img{width:36px;height:36px;border-radius:50%}
.sidebar-logo span{font-size:15px;font-weight:700;letter-spacing:.5px;color:#fff}
.sidebar-logo span em{color:#00d4ff;font-style:normal}
.sidebar-nav{flex:1;padding:12px 0;overflow-y:auto}
.nav-group-label{font-size:10px;font-weight:700;color:rgba(255,255,255,.25);text-transform:uppercase;letter-spacing:1.2px;padding:12px 20px 4px}
.nav-item{display:flex;align-items:center;gap:10px;padding:10px 20px;font-size:13.5px;color:rgba(255,255,255,.6);text-decoration:none;transition:all .2s;border-left:2px solid transparent}
.nav-item:hover{color:#fff;background:rgba(255,255,255,.04)}
.nav-item.active{color:#00d4ff;background:rgba(0,212,255,.08);border-left-color:#00d4ff}
.nav-item i{width:18px;text-align:center;font-size:15px}
.nav-sub .nav-item{font-size:12.5px;padding:7px 20px 7px 36px}
.main-content{margin-left:260px;flex:1;display:flex;flex-direction:column;min-height:100vh}
.topbar{padding:10px 20px;border-bottom:1px solid rgba(255,255,255,.06);display:flex;align-items:center;justify-content:space-between;background:rgba(10,14,39,.9);backdrop-filter:blur(10px);position:sticky;top:0;z-index:30;gap:10px;flex-wrap:wrap}
.breadcrumb{display:flex;align-items:center;gap:8px;font-size:12.5px;color:rgba(255,255,255,.4)}
.btn{padding:7px 14px;border-radius:8px;border:none;cursor:pointer;font-size:12.5px;font-weight:600;transition:all .2s;display:inline-flex;align-items:center;gap:6px;text-decoration:none}
.btn-primary{background:linear-gradient(135deg,#1877f2,#0a5dc2);color:#fff}
.btn-primary:hover{opacity:.9}
.btn-outline{background:transparent;color:rgba(255,255,255,.7);border:1px solid rgba(255,255,255,.15)}
.btn-outline:hover{border-color:#1877f2;color:#60a5fa}
/* Search bar */
.search-bar{display:flex;align-items:center;gap:8px;padding:10px 16px;background:rgba(255,255,255,.03);border-bottom:1px solid rgba(255,255,255,.06);flex-wrap:wrap}
.adlib-badge{display:flex;align-items:center;gap:5px;background:rgba(24,119,242,.12);border:1px solid rgba(24,119,242,.25);border-radius:7px;padding:5px 10px;font-size:12.5px;font-weight:700;color:#60a5fa;white-space:nowrap;flex-shrink:0}
.search-wrap{flex:1;min-width:200px;position:relative}
.search-input{width:100%;background:rgba(255,255,255,.07);border:1.5px solid rgba(255,255,255,.1);border-radius:22px;padding:8px 16px 8px 40px;color:#fff;font-size:13.5px;transition:all .2s}
.search-input:focus{outline:none;border-color:#1877f2;background:rgba(24,119,242,.07)}
.search-input::placeholder{color:rgba(255,255,255,.3)}
.search-icon{position:absolute;left:13px;top:50%;transform:translateY(-50%);color:rgba(255,255,255,.3);font-size:15px;pointer-events:none}
.sel{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:18px;padding:7px 26px 7px 12px;color:#fff;font-size:12px;cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 24 24' fill='white' opacity='0.4'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 7px center;background-color:rgba(255,255,255,.06)}
.sel:focus{outline:none;border-color:#1877f2}
.sel option{background:#1a2035;color:#fff}
/* Quick tags */
.quick-bar{display:flex;align-items:center;gap:6px;padding:8px 16px;background:rgba(255,255,255,.02);border-bottom:1px solid rgba(255,255,255,.05);flex-wrap:wrap}
.quick-lbl{font-size:11px;color:rgba(255,255,255,.3);white-space:nowrap}
.qtag{padding:4px 12px;border-radius:14px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);color:rgba(255,255,255,.55);font-size:11.5px;cursor:pointer;transition:.2s;white-space:nowrap}
.qtag:hover{background:rgba(24,119,242,.12);border-color:rgba(24,119,242,.3);color:#60a5fa}
/* iframe container */
.iframe-wrap{flex:1;position:relative;display:flex;flex-direction:column}
.iframe-overlay{position:absolute;inset:0;background:rgba(10,14,39,.85);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;z-index:10;transition:opacity .3s}
.iframe-overlay.hidden{opacity:0;pointer-events:none}
.iframe-spinner{width:40px;height:40px;border:3px solid rgba(255,255,255,.1);border-top-color:#1877f2;border-radius:50%;animation:spin .7s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.iframe-msg{font-size:13px;color:rgba(255,255,255,.5);text-align:center;line-height:1.6}
#adsIframe{flex:1;width:100%;border:none;min-height:calc(100vh - 160px)}
/* Toast */
.toast-wrap{position:fixed;bottom:20px;right:20px;z-index:999;display:flex;flex-direction:column;gap:7px}
.toast{background:#1e293b;border:1px solid rgba(255,255,255,.1);border-radius:10px;padding:10px 14px;font-size:13px;display:flex;align-items:center;gap:8px;min-width:240px;animation:slideIn .3s;box-shadow:0 8px 24px rgba(0,0,0,.4)}
.toast.info{border-left:3px solid #60a5fa}.toast.success{border-left:3px solid #22c55e}.toast.error{border-left:3px solid #ef4444}
@keyframes slideIn{from{transform:translateX(110%);opacity:0}to{transform:translateX(0);opacity:1}}
/* Blocked notice */
.blocked-notice{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center;gap:14px}
.blocked-notice i{font-size:52px;color:#1877f2;opacity:.7}
.blocked-notice h2{font-size:18px;font-weight:700;color:rgba(255,255,255,.85)}
.blocked-notice p{font-size:13px;color:rgba(255,255,255,.45);line-height:1.7;max-width:460px}
.blocked-notice .btn-big{padding:12px 28px;font-size:14px;border-radius:12px;background:linear-gradient(135deg,#1877f2,#0a5dc2);color:#fff;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:8px;text-decoration:none;font-weight:700;transition:.2s}
.blocked-notice .btn-big:hover{opacity:.9;transform:translateY(-1px)}
.quick-links{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-top:4px}
.qlink{padding:7px 16px;border-radius:20px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);color:rgba(255,255,255,.6);font-size:12.5px;cursor:pointer;text-decoration:none;transition:.2s}
.qlink:hover{background:rgba(24,119,242,.12);border-color:rgba(24,119,242,.3);color:#60a5fa}
    .nav-sub-item{display:flex;align-items:center;gap:10px;padding:7px 18px 7px 34px;font-size:12px;color:rgba(255,255,255,.5);text-decoration:none;transition:all .2s;border-left:2px solid transparent;width:100%;box-sizing:border-box}
    .nav-sub-item:hover{color:#fff;background:rgba(255,255,255,.04)}
    .nav-sub-item.active{color:#00d4ff;background:rgba(0,212,255,.06);border-left-color:#00d4ff}
    .nav-sub-item i{width:15px;text-align:center;font-size:13px}
  
    /* -- Universe Background -- */
    canvas.bg-canvas{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0}
    #custom-cursor{position:fixed;width:20px;height:20px;border-radius:50%;border:2px solid rgba(0,212,255,.8);pointer-events:none;z-index:9999;transform:translate(-50%,-50%);transition:opacity .3s;opacity:0;mix-blend-mode:screen}
    .nebula-overlay{position:fixed;inset:0;pointer-events:none;z-index:0;background:radial-gradient(ellipse 80% 60% at 20% 30%,rgba(24,119,242,.07) 0%,transparent 60%),radial-gradient(ellipse 60% 50% at 80% 70%,rgba(0,212,255,.06) 0%,transparent 55%),radial-gradient(ellipse 50% 40% at 50% 10%,rgba(139,92,246,.05) 0%,transparent 50%)}
  </style>
</head>
<body>
  <!-- Universe Background -->
  <canvas class="bg-canvas" id="gz-stars"></canvas>
  <canvas class="bg-canvas" id="gz-particles"></canvas>
  <div class="nebula-overlay"></div>
  <div id="custom-cursor"></div>
<aside class="sidebar">
      <a href="index.html" class="sidebar-logo">
        <img src="https://ui-avatars.com/api/?name=GZ&background=1877f2&color=fff&bold=true" alt="logo">
        <span>GENZ<em>TECH</em></span>
      </a>
      <nav class="sidebar-nav">
        <div class="nav-group-label">T·ªïng Quan</div>
        <a href="maindashboard.html" class="nav-item"><i class="bi bi-grid-1x2-fill"></i> Dashboard</a>
        <div class="nav-group-label">C√¥ng C·ª•</div>
        <a href="auto-post.html" class="nav-item"><i class="bi bi-send"></i> T·ª± ƒê·ªông ƒêƒÉng B√†i</a>
        <a href="ads-assistant.html" class="nav-item" onclick="toggleSubNav(event,'subNavAds')">
          <i class="bi bi-megaphone"></i> Tr·ª£ L√Ω Qu·∫£ng C√°o
          <i class="bi bi-chevron-down" id="subNavAdsArrow" style="margin-left:auto;font-size:11px;transition:transform .2s"></i>
        </a>
        <div id="subNavAds" style="display:flex;flex-direction:column">
          <a href="tool-ad-account.html" class="nav-sub-item"><i class="bi bi-shield-check"></i> Ki·ªÉm Tra TKQC</a>
          <a href="tool-fb-id.html" class="nav-sub-item"><i class="bi bi-person-badge"></i> T√¨m Facebook ID</a>
          <a href="tool-budget.html" class="nav-sub-item"><i class="bi bi-graph-up-arrow"></i> Ph√¢n T√≠ch Ng√¢n S√°ch</a>
          <a href="tool-translate.html" class="nav-sub-item"><i class="bi bi-translate"></i> D·ªãch Thu·∫≠t</a>
          <a href="tool-ads-finder.html" class="nav-sub-item active"><i class="bi bi-binoculars"></i> Ads Finder</a>
          <a href="tool-policy.html" class="nav-sub-item"><i class="bi bi-journal-text"></i> Ch√≠nh S√°ch FB</a>
          <a href="tool-cookie.html" class="nav-sub-item"><i class="bi bi-cookie"></i> Qu·∫£n L√Ω Cookie</a>
        </div>
        <a href="#" class="nav-item" onclick="openSettings()"><i class="bi bi-gear"></i> C√†i ƒê·∫∑t</a>
      </nav>
      <div class="sidebar-footer">
        <div class="conn-status" id="connStatus">
          <div class="conn-dot" id="connDot"></div>
          <span id="connText">Ch∆∞a k·∫øt n·ªëi</span>
        </div>
      </div>
    </aside>

<div class="main-content">
  <header class="topbar">
    <div class="breadcrumb"><i class="bi bi-house"></i><i class="bi bi-chevron-right" style="font-size:10px"></i><span>Ads Finder</span></div>
    <div style="display:flex;gap:7px;align-items:center">
      <button class="btn btn-outline" onclick="reloadIframe()"><i class="bi bi-arrow-clockwise"></i> T·∫£i l·∫°i</button>
      <a id="openTabBtn" href="https://www.facebook.com/ads/library/?active_status=active&ad_type=all&country=VN" target="_blank" class="btn btn-primary"><i class="bi bi-box-arrow-up-right"></i> M·ªü tab m·ªõi</a>
    </div>
  </header>

  <div class="search-bar">
    <div class="adlib-badge"><i class="bi bi-meta"></i> Ad Library</div>
    <div class="search-wrap">
      <i class="bi bi-search search-icon"></i>
      <input type="text" class="search-input" id="searchInput" placeholder="T√¨m t·ª´ kh√≥a, t√™n trang, th∆∞∆°ng hi·ªáu..." onkeydown="if(event.key==='Enter')doSearch()">
    </div>
    <select class="sel" id="countrySelect" onchange="doSearch()">
      <option value="VN">üáªüá≥ Vietnam</option>
      <option value="ALL">üåç All</option>
      <option value="US">üá∫üá∏ US</option>
      <option value="TH">üáπüá≠ Thailand</option>
      <option value="SG">üá∏üá¨ Singapore</option>
      <option value="MY">üá≤üáæ Malaysia</option>
      <option value="ID">üáÆüá© Indonesia</option>
      <option value="PH">üáµüá≠ Philippines</option>
      <option value="GB">üá¨üáß UK</option>
      <option value="AU">üá¶üá∫ Australia</option>
    </select>
    <select class="sel" id="statusSelect" onchange="doSearch()">
      <option value="active">‚úÖ Active</option>
      <option value="all">üìã All</option>
      <option value="inactive">‚è∏ Inactive</option>
    </select>
    <select class="sel" id="adTypeSelect" onchange="doSearch()">
      <option value="all">All ads</option>
      <option value="political_and_issue_ads">Political</option>
      <option value="housing_ads">Housing</option>
      <option value="employment_ads">Employment</option>
    </select>
    <button class="btn btn-primary" onclick="doSearch()"><i class="bi bi-search"></i> T√¨m</button>
  </div>

  <div class="quick-bar">
    <span class="quick-lbl">T√¨m nhanh:</span>
    <span class="qtag" onclick="quickSearch('Shopee')">Shopee</span>
    <span class="qtag" onclick="quickSearch('Lazada')">Lazada</span>
    <span class="qtag" onclick="quickSearch('thoi trang')">Th·ªùi trang</span>
    <span class="qtag" onclick="quickSearch('my pham')">M·ªπ ph·∫©m</span>
    <span class="qtag" onclick="quickSearch('bat dong san')">B·∫•t ƒë·ªông s·∫£n</span>
    <span class="qtag" onclick="quickSearch('khoa hoc online')">Kh√≥a h·ªçc</span>
    <span class="qtag" onclick="quickSearch('nha hang')">Nh√† h√†ng</span>
    <span class="qtag" onclick="quickSearch('xe may')">Xe m√°y</span>
    <span class="qtag" onclick="quickSearch('dien thoai')">ƒêi·ªán tho·∫°i</span>
    <span class="qtag" onclick="quickSearch('du lich')">Du l·ªãch</span>
  </div>

  <div class="iframe-wrap" id="iframeWrap">
    <div class="iframe-overlay" id="iframeOverlay">
      <div class="iframe-spinner"></div>
      <div class="iframe-msg">ƒêang t·∫£i Facebook Ads Library...</div>
    </div>
    <iframe
      id="adsIframe"
      src="https://www.facebook.com/ads/library/?active_status=active&ad_type=all&country=VN&locale=vi_VN"
      onload="onIframeLoad()"
      onerror="onIframeError()"
      sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox allow-top-navigation"
      referrerpolicy="no-referrer-when-downgrade"
      allow="autoplay; clipboard-write; encrypted-media; picture-in-picture"
    ></iframe>
    <!-- Fallback n·∫øu iframe b·ªã block -->
    <div class="blocked-notice hidden" id="blockedNotice">
      <i class="bi bi-meta"></i>
      <h2>Facebook Ads Library</h2>
      <p>Facebook kh√¥ng cho ph√©p nh√∫ng trang n√†y v√†o iframe do ch√≠nh s√°ch b·∫£o m·∫≠t c·ªßa h·ªç (<code style="background:rgba(255,255,255,.08);padding:2px 6px;border-radius:4px">X-Frame-Options: DENY</code>).<br><br>Nh·∫•n n√∫t b√™n d∆∞·ªõi ƒë·ªÉ m·ªü Ads Library tr·ª±c ti·∫øp v·ªõi t·ª´ kh√≥a v√† filter ƒë√£ ch·ªçn.</p>
      <a id="fallbackBtn" href="https://www.facebook.com/ads/library/?active_status=active&ad_type=all&country=VN" target="_blank" class="btn-big"><i class="bi bi-facebook"></i> M·ªü Facebook Ads Library</a>
      <div class="quick-links" id="quickLinks">
        <a href="https://www.facebook.com/ads/library/?active_status=active&ad_type=all&country=VN&q=Shopee&search_type=keyword_unordered" target="_blank" class="qlink">Shopee</a>
        <a href="https://www.facebook.com/ads/library/?active_status=active&ad_type=all&country=VN&q=Lazada&search_type=keyword_unordered" target="_blank" class="qlink">Lazada</a>
        <a href="https://www.facebook.com/ads/library/?active_status=active&ad_type=all&country=VN&q=thoi+trang&search_type=keyword_unordered" target="_blank" class="qlink">Th·ªùi trang</a>
        <a href="https://www.facebook.com/ads/library/?active_status=active&ad_type=all&country=VN&q=my+pham&search_type=keyword_unordered" target="_blank" class="qlink">M·ªπ ph·∫©m</a>
        <a href="https://www.facebook.com/ads/library/?active_status=active&ad_type=all&country=VN&q=bat+dong+san&search_type=keyword_unordered" target="_blank" class="qlink">B·∫•t ƒë·ªông s·∫£n</a>
        <a href="https://www.facebook.com/ads/library/?active_status=active&ad_type=all&country=VN&q=khoa+hoc&search_type=keyword_unordered" target="_blank" class="qlink">Kh√≥a h·ªçc</a>
      </div>
    </div>
  </div>
</div>

<div class="toast-wrap" id="toastWrap"></div>

<script>
let iframeBlocked = false;
let loadTimer = null;

function buildURL(q) {
  const country = document.getElementById('countrySelect').value;
  const status = document.getElementById('statusSelect').value;
  const adType = document.getElementById('adTypeSelect').value;
  let url = 'https://www.facebook.com/ads/library/?locale=vi_VN';
  url += '&active_status=' + (status === 'active' ? 'active' : status === 'inactive' ? 'inactive' : 'all');
  url += '&ad_type=' + (adType || 'all');
  url += '&country=' + (country || 'VN');
  if (q) {
    url += '&q=' + encodeURIComponent(q) + '&search_type=keyword_unordered';
  }
  return url;
}

function doSearch() {
  const q = document.getElementById('searchInput').value.trim();
  const url = buildURL(q);
  loadIframe(url);
}

function quickSearch(kw) {
  document.getElementById('searchInput').value = kw;
  doSearch();
}

function loadIframe(url) {
  if (iframeBlocked) {
    // ƒê√£ bi·∫øt b·ªã block ‚Äî c·∫≠p nh·∫≠t link fallback v√† m·ªü tab m·ªõi
    document.getElementById('fallbackBtn').href = url;
    document.getElementById('openTabBtn').href = url;
    window.open(url, '_blank');
    return;
  }
  document.getElementById('iframeOverlay').classList.remove('hidden');
  document.getElementById('adsIframe').src = url;
  document.getElementById('openTabBtn').href = url;
  // Timeout 8 gi√¢y ‚Äî n·∫øu kh√¥ng load ƒë∆∞·ª£c th√¨ show fallback
  clearTimeout(loadTimer);
  loadTimer = setTimeout(() => {
    checkIframeBlocked();
  }, 8000);
}

function onIframeLoad() {
  clearTimeout(loadTimer);
  // Th·ª≠ ƒë·ªçc content ƒë·ªÉ ki·ªÉm tra c√≥ b·ªã block kh√¥ng
  try {
    const doc = document.getElementById('adsIframe').contentDocument;
    if (!doc || doc.body.innerHTML === '') {
      onIframeError();
      return;
    }
  } catch(e) {
    // Cross-origin error = iframe load ƒë∆∞·ª£c nh∆∞ng b·ªã block ƒë·ªçc content
    // ƒê√¢y l√† tr∆∞·ªùng h·ª£p T·ªêTT ‚Äî iframe ƒëang hi·ªÉn th·ªã n·ªôi dung Facebook
  }
  document.getElementById('iframeOverlay').classList.add('hidden');
}

function onIframeError() {
  clearTimeout(loadTimer);
  showBlocked();
}

function checkIframeBlocked() {
  try {
    const iframe = document.getElementById('adsIframe');
    // N·∫øu src v·∫´n l√† facebook nh∆∞ng kh√¥ng load ƒë∆∞·ª£c
    if (iframe.contentDocument === null) {
      showBlocked();
    } else {
      document.getElementById('iframeOverlay').classList.add('hidden');
    }
  } catch(e) {
    // Cross-origin = ƒëang load OK
    document.getElementById('iframeOverlay').classList.add('hidden');
  }
}

function showBlocked() {
  iframeBlocked = true;
  document.getElementById('iframeOverlay').classList.add('hidden');
  document.getElementById('adsIframe').style.display = 'none';
  document.getElementById('blockedNotice').classList.remove('hidden');
  const q = document.getElementById('searchInput').value.trim();
  const url = buildURL(q);
  document.getElementById('fallbackBtn').href = url;
  document.getElementById('openTabBtn').href = url;
  toast('Facebook ch·∫∑n iframe ‚Äî ƒëang chuy·ªÉn sang ch·∫ø ƒë·ªô link tr·ª±c ti·∫øp', 'info');
}

function reloadIframe() {
  iframeBlocked = false;
  document.getElementById('adsIframe').style.display = '';
  document.getElementById('blockedNotice').classList.add('hidden');
  const q = document.getElementById('searchInput').value.trim();
  loadIframe(buildURL(q));
}

function toast(msg, type='info') {
  const c = document.getElementById('toastWrap'), t = document.createElement('div');
  t.className = 'toast ' + type;
  const ic = {success:'check-circle-fill', error:'x-circle-fill', info:'info-circle-fill'};
  t.innerHTML = '<i class="bi bi-'+(ic[type]||'info-circle-fill')+'"></i><span>'+msg+'</span>';
  c.appendChild(t);
  setTimeout(() => { t.style.opacity='0'; setTimeout(()=>t.remove(),300); }, 4000);
}

// Kh·ªüi ƒë·ªông
loadIframe(buildURL(''));
</script>

<script id="gz-universe-bg">
(function(){
  'use strict';
  const isMobile = /Mobi|Android/i.test(navigator.userAgent);

  // -- Stars Canvas --
  const cs = document.getElementById('gz-stars');
  if (!cs) return;
  const ctxS = cs.getContext('2d');
  function resizeS(){ cs.width=window.innerWidth; cs.height=window.innerHeight; }
  resizeS();
  const stars = [];
  const N = isMobile ? 80 : 180;
  for(let i=0;i<N;i++){
    stars.push({
      x: Math.random()*cs.width, y: Math.random()*cs.height,
      r: Math.random()*1.6+0.2,
      a: Math.random(), da: (Math.random()-0.5)*0.004,
      vx: (Math.random()-0.5)*0.07, vy: (Math.random()-0.5)*0.07,
      hue: [210,195,270,180][Math.floor(Math.random()*4)] // xanh d∆∞∆°ng, cyan, t√≠m, xanh l√°
    });
  }
  function animStars(){
    ctxS.clearRect(0,0,cs.width,cs.height);
    stars.forEach(s=>{
      s.x+=s.vx; s.y+=s.vy; s.a+=s.da;
      if(s.a<0.08) s.da=Math.abs(s.da);
      if(s.a>0.95) s.da=-Math.abs(s.da);
      if(s.x<0) s.x=cs.width; if(s.x>cs.width) s.x=0;
      if(s.y<0) s.y=cs.height; if(s.y>cs.height) s.y=0;
      const g=ctxS.createRadialGradient(s.x,s.y,0,s.x,s.y,s.r*2.5);
      g.addColorStop(0,`hsla(${s.hue},100%,90%,${s.a*0.9})`);
      g.addColorStop(0.5,`hsla(${s.hue},100%,70%,${s.a*0.4})`);
      g.addColorStop(1,`hsla(${s.hue},100%,60%,0)`);
      ctxS.fillStyle=g;
      ctxS.beginPath(); ctxS.arc(s.x,s.y,s.r*2.5,0,Math.PI*2); ctxS.fill();
    });
    requestAnimationFrame(animStars);
  }
  animStars();

  // -- Data Particles Canvas --
  const cp = document.getElementById('gz-particles');
  if(!cp) return;
  const ctxP = cp.getContext('2d');
  function resizeP(){ cp.width=window.innerWidth; cp.height=window.innerHeight; }
  resizeP();
  const parts = [];
  const NP = isMobile ? 8 : 18;
  for(let i=0;i<NP;i++){
    parts.push({
      x:0, y:0,
      r: Math.random()*2.5+1,
      cx: Math.random()*cp.width, cy: Math.random()*cp.height,
      rx: Math.random()*120+40, ry: Math.random()*120+40,
      angle: Math.random()*Math.PI*2,
      speed: Math.random()*0.008+0.004,
      pulse: Math.random()*Math.PI*2, ps: Math.random()*0.02+0.01,
      color: [[24,119,242],[0,212,255],[139,92,246],[6,182,212]][Math.floor(Math.random()*4)]
    });
  }
  function animParts(){
    ctxP.clearRect(0,0,cp.width,cp.height);
    parts.forEach(p=>{
      p.angle+=p.speed;
      p.x=p.cx+Math.cos(p.angle)*p.rx;
      p.y=p.cy+Math.sin(p.angle)*p.ry;
      p.pulse+=p.ps;
      const ps=1+Math.sin(p.pulse)*0.5;
      const [r,g,b]=p.color;
      const grd=ctxP.createRadialGradient(p.x,p.y,0,p.x,p.y,p.r*ps*4);
      grd.addColorStop(0,`rgba(${r},${g},${b},${0.75*ps})`);
      grd.addColorStop(0.4,`rgba(${r},${g},${b},${0.3*ps})`);
      grd.addColorStop(1,`rgba(${r},${g},${b},0)`);
      ctxP.fillStyle=grd;
      ctxP.beginPath(); ctxP.arc(p.x,p.y,p.r*ps*4,0,Math.PI*2); ctxP.fill();
    });
    requestAnimationFrame(animParts);
  }
  animParts();

  // -- Custom Cursor --
  const cur=document.getElementById('custom-cursor');
  if(cur && !('ontouchstart' in window)){
    let mx=0,my=0,cx=0,cy=0,shown=false;
    document.body.style.cursor='none';
    document.addEventListener('mousemove',e=>{
      mx=e.clientX; my=e.clientY;
      if(!shown){ shown=true; cur.style.opacity='1'; }
    });
    document.addEventListener('mouseleave',()=>{ shown=false; cur.style.opacity='0'; });
    function animCur(){ if(shown){ cx+=(mx-cx)*0.15; cy+=(my-cy)*0.15; cur.style.left=cx+'px'; cur.style.top=cy+'px'; } requestAnimationFrame(animCur); }
    animCur();
  }

  // -- Resize handler --
  window.addEventListener('resize',()=>{ resizeS(); resizeP(); });
})();
</script>
</body>
</html>
